<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Tomar Foto</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- Card de acci贸n principal -->
  <ion-card class="action-card">
    <ion-card-header>
      <ion-card-title> Captura tu recibo</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      Presiona el bot贸n para tomar una foto de tu recibo y registrar la ubicaci贸n autom谩ticamente.
    </ion-card-content>
  </ion-card>

  <!-- Bot贸n principal -->
  <ion-button expand="block" color="primary" (click)="takePhoto()" class="main-btn">
    Tomar Foto
  </ion-button>

  <!-- Previsualizaci贸n -->
  <div *ngIf="photoPreview" class="preview-section">
    <ion-card class="photo-card">
      <img [src]="photoPreview" alt="Previsualizaci贸n" class="photo-preview" />

      <!-- Link de ubicaci贸n -->
      <div *ngIf="mapsLink" class="maps-link">
        <a [href]="mapsLink" target="_blank" rel="noopener noreferrer">
           Ver ubicaci贸n en Google Maps
        </a>
      </div>

      <!-- Checkbox para guardar ubicaci贸n -->
      <ion-item lines="none">
        <ion-label>Guardar ubicaci贸n en archivo TXT</ion-label>
        <ion-checkbox slot="end" [(ngModel)]="saveLocation"></ion-checkbox>
      </ion-item>

      <!-- Bot贸n guardar -->
      <ion-button expand="block" color="success" (click)="savePhoto()" class="save-btn">
        Guardar Imagen
      </ion-button>
    </ion-card>
  </div>

</ion-content>
